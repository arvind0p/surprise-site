<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Rishika â¤ï¸</title>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#ff9a9e,#fad0c4);
    text-align:center;
    overflow:hidden;
}

/* Fireworks */
canvas{
    position:fixed;
    inset:0;
    z-index:0;
}

/* Card */
.card{
    position:relative;
    z-index:2;
    background:white;
    width:420px;
    margin:100px auto;
    padding:30px;
    border-radius:20px;
    box-shadow:0 15px 35px rgba(0,0,0,.3);
}

button{
    padding:12px 22px;
    font-size:16px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    margin:10px;
}

#nextBtn{background:#ff4d6d;color:white;}
#yesBtn{background:#2ecc71;color:white;}
#noBtn{background:#e74c3c;color:white;position:absolute;}

#valentineSection,#gallery{display:none;margin-top:20px;}
img{width:100%;border-radius:15px;}
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<audio id="music" loop>
  <source src="{{ url_for('static', filename='music/happy-birthday.mp3') }}">
</audio>

<div class="card">
<h1>ğŸ‚ Happy Birthday Rishika ğŸ‰</h1>
<p>
Today is special because <b>you</b> were born ğŸ’–<br>
May your smile always stay this beautiful âœ¨
</p>

<button id="nextBtn">Next Surprise ğŸ€</button>

<div id="valentineSection">
<p>ğŸ’˜ Rishika, will you be my Valentine? ğŸ’˜</p>
<button id="yesBtn">YES ğŸ’–</button>
<button id="noBtn">NO ğŸ™ˆ</button>
</div>

<div id="gallery">
<img id="slide">
<p>Forever & Always ğŸ’•</p>
</div>
</div>

<script>
const music=document.getElementById("music");
const nextBtn=document.getElementById("nextBtn");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");

nextBtn.onclick=()=>{
  music.play();
  document.getElementById("valentineSection").style.display="block";
};

yesBtn.onclick=()=>{
  document.getElementById("valentineSection").style.display="none";
  document.getElementById("gallery").style.display="block";
  startSlideshow();
};

noBtn.onmouseover=()=>{
  noBtn.style.left=Math.random()*(window.innerWidth-100)+"px";
  noBtn.style.top=Math.random()*(window.innerHeight-50)+"px";
};

const images=[
"{{ url_for('static', filename='images/pic1.jpg') }}",
"{{ url_for('static', filename='images/pic2.png') }}",
"{{ url_for('static', filename='images/pic3.png') }}",
"{{ url_for('static', filename='images/pic4.png') }}"
];

let i=0;
function startSlideshow(){
  const slide=document.getElementById("slide");
  slide.src=images[i];
  setInterval(()=>{
    i=(i+1)%images.length;
    slide.src=images[i];
  },2500);
}

/* Fireworks */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let p=[];
setInterval(()=>{
  for(let i=0;i<60;i++){
    p.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height/2,
      vx:(Math.random()-0.5)*5,
      vy:(Math.random()-0.5)*5,
      life:80
    });
  }
},1200);

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  p.forEach((a,i)=>{
    a.x+=a.vx;
    a.y+=a.vy;
    a.life--;
    ctx.fillStyle="rgba(255,0,100,.8)";
    ctx.fillRect(a.x,a.y,3,3);
    if(a.life<=0)p.splice(i,1);
  });
  requestAnimationFrame(draw);
}
draw();
</script>

</body>
</html>

